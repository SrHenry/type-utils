<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Type Utils</title><meta name="description" content="Documentation for Type Utils"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">Type Utils</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Type Utils</h1></div><div class="tsd-panel tsd-typography"><h1 id="type-utils" class="tsd-anchor-link">Type Utils<a href="#type-utils" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><blockquote>
<p>Type utilities module for Typescript and also Javascript. It can secure your application from invalid data being pushed inside and breaking things as it can shape and model your data to prevent invalid data. Check out the documentation for further details.</p>
</blockquote>
<br/>
<div align="center">
<p><a href="https://github.com/SrHenry/type-utils"><img src="https://badgen.net/badge/icon/github?icon=github&amp;label" alt="GitHub"></a>
<a href="https://npmjs.com/package/@srhenry/type-utils"><img src="https://badgen.net/npm/v/@srhenry/type-utils" alt="Npm package version"></a>
<a href="https://npmjs.com/package/@srhenry/type-utils"><img src="https://badgen.net/npm/dt/@srhenry/type-utils" alt="Npm package total downloads"></a>
<a href="https://npmjs.com/package/@srhenry/type-utils"><img src="https://badgen.net/npm/license/@srhenry/type-utils" alt="Npm package license"></a></p>
</div>
<h2 id="table-of-contents" class="tsd-anchor-link"><strong>Table of Contents</strong><a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="#installing">Installing</a></li>
<li><a href="#docs">Docs</a></li>
<li><a href="#experimental">Experimental Features</a></li>
</ul>
<br/>
<br/>
<h1 id="-installing-" class="tsd-anchor-link"><span id="installing"> <strong>Installing</strong> </span><a href="#-installing-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@srhenry/type-utils</span><span class="hl-1"> </span><span class="hl-3">--save</span>
</code><button type="button">Copy</button></pre>

<p>or from git repository:</p>
<pre><code class="bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">git@gitlab.com:SrHenry/type-utils.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">storage-manager</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span>
</code><button type="button">Copy</button></pre>

<br/>
<h1 id="-docs-" class="tsd-anchor-link"><span id="docs"> <strong>Docs</strong> </span><a href="#-docs-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><blockquote>
<ul>
<li><a href="https://srhenry.github.io/type-utils">API - Github Pages</a></li>
</ul>
</blockquote>
<h3 id="schema-types" class="tsd-anchor-link"><strong>Schema types</strong><a href="#schema-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p><code>Schema.string</code></p>
<p>It represents a string to typescript's type infers and runtime validation</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">() </span><span class="hl-7">//any string</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isAvocadoString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">(</span><span class="hl-2">&#39;avocado&#39;</span><span class="hl-1">) </span><span class="hl-7">//specific string</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isPatternString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">(</span><span class="hl-8">/goo</span><span class="hl-9">+</span><span class="hl-8">gle/</span><span class="hl-1">) </span><span class="hl-7">//pattern/RegExp matched string</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.number</code></p>
<p>It represents a number to typescript's type infers and runtime validation</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">number</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNumber</span><span class="hl-1"> = </span><span class="hl-0">number</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.boolean</code></p>
<p>It represents a number to typescript's type infers and runtime validation</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">boolean</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isBoolean</span><span class="hl-1"> = </span><span class="hl-0">boolean</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.object</code></p>
<p>It represents a well defined object to typescript's type infers and runtime validation, which its properties are also described using the Schema helpers</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">object</span><span class="hl-1">, </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">number</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isMyObject</span><span class="hl-1"> = </span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">foo:</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-5">bar:</span><span class="hl-1"> </span><span class="hl-0">number</span><span class="hl-1">(),</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.array</code></p>
<p>It represents an array to typescript's type infers and runtime validation, which its items can also be described using the Schema helpers</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">array</span><span class="hl-1">, </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">object</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isArray</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">() </span><span class="hl-7">// array of anything</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isMyArray</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-0">string</span><span class="hl-1">()) </span><span class="hl-7">// array of strings</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isMyObjArray</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-5">foo:</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">(</span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">) }))</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isMyObjArray2</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">({ </span><span class="hl-5">foo:</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">(</span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">) })</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.symbol</code></p>
<p>It represents a symbol to typescript's type infers and runtime validation</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">symbol</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isSymbol</span><span class="hl-1"> = </span><span class="hl-0">symbol</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.asEnum</code></p>
<p>It represents a closed switch values to typescript's type infers and runtime validation. It ensures your value is one of the values given in params.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">asEnum</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@srhenry/type-utils&quot;</span><br/><br/><span class="hl-3">enum</span><span class="hl-1"> </span><span class="hl-10">Status</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">ready</span><span class="hl-1">: 1,</span><br/><span class="hl-1">  </span><span class="hl-6">running</span><span class="hl-1">: 2,</span><br/><span class="hl-1">  </span><span class="hl-6">stopped</span><span class="hl-1">: 3,</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">validStatus</span><span class="hl-1"> = [...</span><span class="hl-5">Object</span><span class="hl-1">.</span><span class="hl-0">keys</span><span class="hl-1">(</span><span class="hl-5">Status</span><span class="hl-1">)] </span><span class="hl-4">as</span><span class="hl-1"> (</span><span class="hl-3">keyof</span><span class="hl-1"> </span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-5">Status</span><span class="hl-1">)[]</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isStatus</span><span class="hl-1"> = </span><span class="hl-0">asEnum</span><span class="hl-1">(</span><span class="hl-5">validStatus</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.asNull</code></p>
<p>It represents a null literal to typescript's type infers and runtime validation.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">asNull</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNull</span><span class="hl-1"> = </span><span class="hl-0">asNull</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.primitive</code></p>
<p>It represents a primitive values (such as string, number, boolean, symbol, null, undefined) to typescript's type infers and runtime validation.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">primitive</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isSymbol</span><span class="hl-1"> = </span><span class="hl-0">primitive</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.any</code></p>
<p>It represents a 'any' value to typescript's type infers and runtime validation. It does nothing to validate a narrowed type but can be useful to improve readability in more complex schemas.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">any</span><span class="hl-1">, </span><span class="hl-5">object</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isAny</span><span class="hl-1"> = </span><span class="hl-0">any</span><span class="hl-1">()</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">objectHasFoo</span><span class="hl-1"> = </span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-5">foo:</span><span class="hl-1"> </span><span class="hl-5">isAny</span><span class="hl-1"> }) </span><span class="hl-7">//it checks if is object and if has `foo` property but doesn&#39;t care checking its type</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.optional</code></p>
<p><code>Schema.optional.*</code></p>
<p>It represents a optional value to typescript's type infers and runtime validation. It returns recursive structure of schema helpers to narrow validation.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">optional</span><span class="hl-1">, </span><span class="hl-5">object</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">maybeString</span><span class="hl-1"> = </span><span class="hl-0">optional</span><span class="hl-1">().</span><span class="hl-0">string</span><span class="hl-1">()</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">objectMaybeHasFoo</span><span class="hl-1"> = </span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-5">foo:</span><span class="hl-1"> </span><span class="hl-5">maybeString</span><span class="hl-1"> }) </span><span class="hl-7">//it checks if is object and if has `foo`. if it has `foo` then check if it is string, if it hasn&#39;t then pass anyway as it is optional property</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<h3 id="schema-helpers" class="tsd-anchor-link">Schema helpers<a href="#schema-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p><code>Schema.and</code></p>
<p>It creates an intersection between two schemas.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">object</span><span class="hl-1">, </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">and</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">hasFoo</span><span class="hl-1"> = </span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-5">foo:</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">() })</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">hasBar</span><span class="hl-1"> = </span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-5">bar:</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">() })</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isSomething</span><span class="hl-1"> = </span><span class="hl-0">and</span><span class="hl-1">(</span><span class="hl-5">hasFoo</span><span class="hl-1">, </span><span class="hl-5">hasBar</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.or</code></p>
<p>It creates an union between two schemas.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">boolean</span><span class="hl-1">, </span><span class="hl-5">or</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">()</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isBool</span><span class="hl-1"> = </span><span class="hl-0">boolean</span><span class="hl-1">()</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isSomething</span><span class="hl-1"> = </span><span class="hl-0">or</span><span class="hl-1">(</span><span class="hl-5">isString</span><span class="hl-1">, </span><span class="hl-5">isBool</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Schema.useSchema</code></p>
<p>It wraps a schema (just to improve readability).</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">object</span><span class="hl-1">, </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">array</span><span class="hl-1">, </span><span class="hl-5">useSchema</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">hasFoo</span><span class="hl-1"> = </span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-5">foo:</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">() })</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isFooArray</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">(</span><span class="hl-0">useSchema</span><span class="hl-1">(</span><span class="hl-5">hasFoo</span><span class="hl-1">))</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<h3 id="validation-rules" class="tsd-anchor-link">Validation rules<a href="#validation-rules" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p><code>Number.nonZero</code></p>
<p>It constraints a number to be different from 0.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNonZeroNumber</span><span class="hl-1"> = </span><span class="hl-0">number</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">Number</span><span class="hl-1">.</span><span class="hl-0">nonZero</span><span class="hl-1">()])</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-5">NumberRules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNonZeroNumber</span><span class="hl-1"> = </span><span class="hl-0">number</span><span class="hl-1">([</span><span class="hl-5">NumberRules</span><span class="hl-1">.</span><span class="hl-0">nonZero</span><span class="hl-1">()])</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Number.max</code></p>
<p>It constraints a number to be lesser than a given number.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNonZeroNumber</span><span class="hl-1"> = </span><span class="hl-0">number</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">Number</span><span class="hl-1">.</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-11">255</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-5">NumberRules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNonZeroNumber</span><span class="hl-1"> = </span><span class="hl-0">number</span><span class="hl-1">([</span><span class="hl-5">NumberRules</span><span class="hl-1">.</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-11">255</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Number.min</code></p>
<p>It constraints a number to be greater than a given number.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNonZeroNumber</span><span class="hl-1"> = </span><span class="hl-0">number</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">Number</span><span class="hl-1">.</span><span class="hl-0">min</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-5">NumberRules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><span class="hl-7">// or</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNonZeroNumber</span><span class="hl-1"> = </span><span class="hl-0">number</span><span class="hl-1">([</span><span class="hl-0">NumberRulesmin</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Array.max</code></p>
<p>It constraints an array's size to be lesser than a given number.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">array</span><span class="hl-1">, </span><span class="hl-5">any</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isArray</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">Array</span><span class="hl-1">.</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-11">25</span><span class="hl-1">)], </span><span class="hl-0">any</span><span class="hl-1">())</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">array</span><span class="hl-1">, </span><span class="hl-5">any</span><span class="hl-1">, </span><span class="hl-5">ArrayRules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isArray</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">([</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-11">25</span><span class="hl-1">)], </span><span class="hl-0">any</span><span class="hl-1">())</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Array.min</code></p>
<p>It constraints an array's size to be greater than a given number.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">array</span><span class="hl-1">, </span><span class="hl-5">any</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isArray</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">Array</span><span class="hl-1">.</span><span class="hl-0">min</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">)], </span><span class="hl-0">any</span><span class="hl-1">())</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>Array.unique</code></p>
<p>It constraints an array to contain only distinct values, failling if a duplicate is found.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">array</span><span class="hl-1">, </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isArray</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">Array</span><span class="hl-1">.</span><span class="hl-0">unique</span><span class="hl-1">()], </span><span class="hl-0">string</span><span class="hl-1">())</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">array</span><span class="hl-1">, </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">ArrayRules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isArray</span><span class="hl-1"> = </span><span class="hl-0">array</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">ArrayRules</span><span class="hl-1">], </span><span class="hl-0">string</span><span class="hl-1">())</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>String.max</code></p>
<p>It constraints a string's size to be lesser than a given number.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">String</span><span class="hl-1">.</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-11">60</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">StringRules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">([</span><span class="hl-5">StringRules</span><span class="hl-1">.</span><span class="hl-0">max</span><span class="hl-1">(</span><span class="hl-11">60</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>String.min</code></p>
<p>It constraints a string's size to be greater than a given number.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">String</span><span class="hl-1">.</span><span class="hl-0">min</span><span class="hl-1">(</span><span class="hl-11">60</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">StringRules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">([</span><span class="hl-5">StringRules</span><span class="hl-1">.</span><span class="hl-0">min</span><span class="hl-1">(</span><span class="hl-11">60</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>String.regex</code></p>
<p>It constraints a string to match a given pattern (regular expression).</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNumericString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">String</span><span class="hl-1">.</span><span class="hl-0">regex</span><span class="hl-1">(</span><span class="hl-8">/</span><span class="hl-12">[</span><span class="hl-8">0-9</span><span class="hl-12">]</span><span class="hl-9">+</span><span class="hl-8">/</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">StringRules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isNumericString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">([</span><span class="hl-5">StringRules</span><span class="hl-1">.</span><span class="hl-0">regex</span><span class="hl-1">(</span><span class="hl-8">/</span><span class="hl-12">[</span><span class="hl-8">0-9</span><span class="hl-12">]</span><span class="hl-9">+</span><span class="hl-8">/</span><span class="hl-1">)])</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>String.nonEmpty</code></p>
<p>It constraints a string's size to be greater than 0.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">Rules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">([</span><span class="hl-5">Rules</span><span class="hl-1">.</span><span class="hl-5">String</span><span class="hl-1">.</span><span class="hl-0">nonEmpty</span><span class="hl-1">()])</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">StringRules</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">isString</span><span class="hl-1"> = </span><span class="hl-0">string</span><span class="hl-1">([</span><span class="hl-5">StringRules</span><span class="hl-1">.</span><span class="hl-0">nonEmpty</span><span class="hl-1">()])</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<h3 id="available-validations" class="tsd-anchor-link">Available validations<a href="#available-validations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><blockquote>
<p><code>is</code></p>
<p>It checks a given value against a given schema or validator and return true if schema matches the value, otherwise return false.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">is</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-7">//...</span><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-0">is</span><span class="hl-1">(</span><span class="hl-5">value</span><span class="hl-1">, </span><span class="hl-0">string</span><span class="hl-1">())) {</span><br/><span class="hl-1">    </span><span class="hl-7">// value is string</span><br/><span class="hl-1">} </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">// value is not a string</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<blockquote>
<p><code>ensureInterface</code></p>
<p>It checks a given value against a given schema or validator and returns the checked value with schema inferred type if schema matches the value or throws an error if schema didn't match the value. Pretty clean to use with destructuring pattern.</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">object</span><span class="hl-1">, </span><span class="hl-5">number</span><span class="hl-1">, </span><span class="hl-5">string</span><span class="hl-1">, </span><span class="hl-5">ensureInterface</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-7">//...</span><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-6">foo</span><span class="hl-1">, </span><span class="hl-6">bar</span><span class="hl-1"> } = </span><span class="hl-0">ensureInterface</span><span class="hl-1">(</span><span class="hl-5">value</span><span class="hl-1">, </span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">foo:</span><span class="hl-1"> </span><span class="hl-0">number</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-5">bar:</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">(),</span><br/><span class="hl-1">}) </span><span class="hl-7">//It throws an error if validation fails!</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;foo&#39;</span><span class="hl-1">, </span><span class="hl-5">foo</span><span class="hl-1">) </span><span class="hl-7">// foo</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;bar&#39;</span><span class="hl-1">, </span><span class="hl-5">bar</span><span class="hl-1">) </span><span class="hl-7">// bar</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<p><code>NOTE:</code> You can use schema directly to validate a value.</p>
<blockquote>
<p>Ex.:</p>
<pre><code class="typescript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">object</span><span class="hl-1">, </span><span class="hl-5">number</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@srhenry/type-utils&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">hasFoo</span><span class="hl-1"> = </span><span class="hl-0">object</span><span class="hl-1">({ </span><span class="hl-5">foo:</span><span class="hl-1"> </span><span class="hl-0">number</span><span class="hl-1">() }))</span><br/><br/><span class="hl-7">//...</span><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-0">hasFoo</span><span class="hl-1">(</span><span class="hl-5">obj</span><span class="hl-1">)) {</span><br/><span class="hl-1">  </span><span class="hl-7">// obj is object and contains a string property named `foo`</span><br/><span class="hl-1">} </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">// obj don&#39;t have a `foo` property of type string</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<h1 id="-experimental-features-" class="tsd-anchor-link"><span id="experimental"> <strong>Experimental Features</strong> </span><a href="#-experimental-features-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><h2 id="deep-validation" class="tsd-anchor-link"><strong>Deep validation</strong><a href="#deep-validation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><span hidden="hidden">TODO: finish explain Experimental new stuff </span></p>
<p>This is intended for partial assertions in schemas, fetching all violations against the schema, like other specialized tools does (yup, joi, etc). Common use cases are in form validations and payload validations, in order to give feedback of where the data is wrong by schema.</p>
<blockquote>
<p>Ex.:</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">Experimental</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">object</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">StringRules</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">setValidatorMessage</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-6">validate</span><span class="hl-1">, </span><span class="hl-6">ValidationErrors</span><span class="hl-1"> } = </span><span class="hl-5">Experimental</span><br/><br/><span class="hl-7">/** RFC 2822: Standard email validation. in your code you can use third party libs who already can check it, and you can link with this lib using useSchema or just writing a type guard and passing the guard to schema */</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">emailRegex</span><span class="hl-1"> =</span><br/><span class="hl-1">    </span><span class="hl-8">/</span><span class="hl-12">(?:[</span><span class="hl-8">a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-</span><span class="hl-12">]</span><span class="hl-9">+</span><span class="hl-12">(?:</span><span class="hl-13">\.</span><span class="hl-12">[</span><span class="hl-8">a-z0-9!#$%&amp;&#39;*+/=?^_`{|}~-</span><span class="hl-12">]</span><span class="hl-9">+</span><span class="hl-12">)</span><span class="hl-9">*</span><span class="hl-14">|</span><span class="hl-8">&quot;</span><span class="hl-12">(?:[</span><span class="hl-3">\x01</span><span class="hl-8">-</span><span class="hl-3">\x08\x0b\x0c\x0e</span><span class="hl-8">-</span><span class="hl-3">\x1f\x21\x23</span><span class="hl-8">-</span><span class="hl-3">\x5b\x5d</span><span class="hl-8">-</span><span class="hl-3">\x7f</span><span class="hl-12">]</span><span class="hl-14">|</span><span class="hl-13">\\</span><span class="hl-12">[</span><span class="hl-3">\x01</span><span class="hl-8">-</span><span class="hl-3">\x09\x0b\x0c\x0e</span><span class="hl-8">-</span><span class="hl-3">\x7f</span><span class="hl-12">])</span><span class="hl-9">*</span><span class="hl-8">&quot;</span><span class="hl-12">)</span><span class="hl-8">@</span><span class="hl-12">(?:(?:[</span><span class="hl-8">a-z0-9</span><span class="hl-12">](?:[</span><span class="hl-8">a-z0-9-</span><span class="hl-12">]</span><span class="hl-9">*</span><span class="hl-12">[</span><span class="hl-8">a-z0-9</span><span class="hl-12">])</span><span class="hl-9">?</span><span class="hl-13">\.</span><span class="hl-12">)</span><span class="hl-9">+</span><span class="hl-12">[</span><span class="hl-8">a-z0-9</span><span class="hl-12">](?:[</span><span class="hl-8">a-z0-9-</span><span class="hl-12">]</span><span class="hl-9">*</span><span class="hl-12">[</span><span class="hl-8">a-z0-9</span><span class="hl-12">])</span><span class="hl-9">?</span><span class="hl-14">|</span><span class="hl-13">\[</span><span class="hl-12">(?:(?:</span><span class="hl-8">25</span><span class="hl-12">[</span><span class="hl-8">0-5</span><span class="hl-12">]</span><span class="hl-14">|</span><span class="hl-8">2</span><span class="hl-12">[</span><span class="hl-8">0-4</span><span class="hl-12">][</span><span class="hl-8">0-9</span><span class="hl-12">]</span><span class="hl-14">|</span><span class="hl-12">[</span><span class="hl-8">01</span><span class="hl-12">]</span><span class="hl-9">?</span><span class="hl-12">[</span><span class="hl-8">0-9</span><span class="hl-12">][</span><span class="hl-8">0-9</span><span class="hl-12">]</span><span class="hl-9">?</span><span class="hl-12">)</span><span class="hl-13">\.</span><span class="hl-12">)</span><span class="hl-9">{3}</span><span class="hl-12">(?:</span><span class="hl-8">25</span><span class="hl-12">[</span><span class="hl-8">0-5</span><span class="hl-12">]</span><span class="hl-14">|</span><span class="hl-8">2</span><span class="hl-12">[</span><span class="hl-8">0-4</span><span class="hl-12">][</span><span class="hl-8">0-9</span><span class="hl-12">]</span><span class="hl-14">|</span><span class="hl-12">[</span><span class="hl-8">01</span><span class="hl-12">]</span><span class="hl-9">?</span><span class="hl-12">[</span><span class="hl-8">0-9</span><span class="hl-12">][</span><span class="hl-8">0-9</span><span class="hl-12">]</span><span class="hl-9">?</span><span class="hl-14">|</span><span class="hl-12">[</span><span class="hl-8">a-z0-9-</span><span class="hl-12">]</span><span class="hl-9">*</span><span class="hl-12">[</span><span class="hl-8">a-z0-9</span><span class="hl-12">]</span><span class="hl-8">:</span><span class="hl-12">(?:[</span><span class="hl-3">\x01</span><span class="hl-8">-</span><span class="hl-3">\x08\x0b\x0c\x0e</span><span class="hl-8">-</span><span class="hl-3">\x1f\x21</span><span class="hl-8">-</span><span class="hl-3">\x5a\x53</span><span class="hl-8">-</span><span class="hl-3">\x7f</span><span class="hl-12">]</span><span class="hl-14">|</span><span class="hl-13">\\</span><span class="hl-12">[</span><span class="hl-3">\x01</span><span class="hl-8">-</span><span class="hl-3">\x09\x0b\x0c\x0e</span><span class="hl-8">-</span><span class="hl-3">\x7f</span><span class="hl-12">])</span><span class="hl-9">+</span><span class="hl-12">)</span><span class="hl-13">\]</span><span class="hl-12">)</span><span class="hl-8">/</span><br/><br/><span class="hl-7">/** A sample schema */</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-5">schema</span><span class="hl-1"> = </span><span class="hl-0">object</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-0">setValidatorMessage</span><span class="hl-1">(</span><span class="hl-2">&#39;name is required&#39;</span><span class="hl-1">, </span><span class="hl-0">string</span><span class="hl-1">()),</span><br/><span class="hl-1">    </span><span class="hl-5">email:</span><span class="hl-1"> </span><span class="hl-0">setValidatorMessage</span><span class="hl-1">(</span><span class="hl-2">&#39;email is required&#39;</span><span class="hl-1">, </span><span class="hl-0">string</span><span class="hl-1">(</span><span class="hl-5">emailRegex</span><span class="hl-1">)),</span><br/><span class="hl-1">    </span><span class="hl-5">password:</span><span class="hl-1"> </span><span class="hl-0">string</span><span class="hl-1">([</span><span class="hl-5">StringRules</span><span class="hl-1">.</span><span class="hl-0">min</span><span class="hl-1">(</span><span class="hl-11">6</span><span class="hl-1">)]),</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-7">/** An API request payload or else */</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">payload</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Foo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">password:</span><span class="hl-1"> </span><span class="hl-2">&#39;1234&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">// throwable flow</span><br/><span class="hl-4">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">data</span><span class="hl-1"> = </span><span class="hl-0">validate</span><span class="hl-1">(</span><span class="hl-5">payload</span><span class="hl-1">, </span><span class="hl-5">schema</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-7">//...</span><br/><span class="hl-1">} </span><span class="hl-4">catch</span><span class="hl-1"> (</span><span class="hl-5">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">e</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-10">ValidationErrors</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-7">// generic function representing some error handling for presenting to requester:</span><br/><span class="hl-1">        </span><span class="hl-0">respondWith</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-5">errors:</span><span class="hl-1"> </span><span class="hl-5">e</span><span class="hl-1">.</span><span class="hl-5">errors</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">(({ </span><span class="hl-5">path</span><span class="hl-1">, </span><span class="hl-5">message</span><span class="hl-1"> }) </span><span class="hl-3">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">                </span><span class="hl-7">// something like &#39;$&#39;, &#39;$.name&#39;, &#39;$.email&#39; or &#39;$.password&#39;:</span><br/><span class="hl-1">                </span><span class="hl-5">path:</span><span class="hl-1"> </span><span class="hl-5">path</span><span class="hl-1">.</span><span class="hl-0">replace</span><span class="hl-1">(</span><span class="hl-2">&#39;$&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;payload&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">                </span><span class="hl-5">message</span><span class="hl-1">,</span><br/><span class="hl-1">            })),</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">        </span><span class="hl-7">// procedural handling (ValidationErrors is iterable):</span><br/><span class="hl-1">        </span><span class="hl-4">for</span><span class="hl-1"> (</span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-6">parent</span><span class="hl-1">, </span><span class="hl-6">path</span><span class="hl-1">, </span><span class="hl-6">message</span><span class="hl-1">, </span><span class="hl-6">checked</span><span class="hl-1">, </span><span class="hl-6">against</span><span class="hl-1"> } </span><span class="hl-3">of</span><span class="hl-1"> </span><span class="hl-5">e</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-7">//...</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">// not throwable flow</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">data</span><span class="hl-1"> = </span><span class="hl-0">validate</span><span class="hl-1">(</span><span class="hl-5">payload</span><span class="hl-1">, </span><span class="hl-5">schema</span><span class="hl-1">)</span><br/><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-5">data</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-10">ValidationErrors</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-7">// handle error(s)...</span><br/><span class="hl-1">} </span><span class="hl-4">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">//use schema shaped data...</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<hr>
<br/>
<h2 id="lambda" class="tsd-anchor-link"><strong>Lambda</strong><a href="#lambda" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This was inspired in C# Lambdas, equivalent to arrow functions in Javascript/Typescript, but this helper adds <code>invoke()</code> method to a function instance. useful to improve readability when you have a function that returns another and you wanna call 'em all in a row, using fluent pattern.</p>
<blockquote>
<p>Ex.:</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Experimental</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-6">lambda</span><span class="hl-1"> } = </span><span class="hl-5">Experimental</span><br/><br/><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">builder</span><span class="hl-1">(</span><span class="hl-5">locales</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1"> | </span><span class="hl-10">string</span><span class="hl-1">[] = </span><span class="hl-2">&#39;en-US&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">formatter</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-5">options</span><span class="hl-1">: </span><span class="hl-10">Intl</span><span class="hl-1">.</span><span class="hl-10">DateTimeFormatOptions</span><span class="hl-1"> = {</span><br/><span class="hl-1">            </span><span class="hl-5">dateStyle:</span><span class="hl-1"> </span><span class="hl-2">&#39;short&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-5">timeStyle:</span><span class="hl-1"> </span><span class="hl-2">&#39;short&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    ) {</span><br/><span class="hl-1">        </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">format</span><span class="hl-1">(</span><span class="hl-5">date</span><span class="hl-1">: </span><span class="hl-10">Date</span><span class="hl-1"> | </span><span class="hl-10">string</span><span class="hl-1">) {</span><br/><span class="hl-1">            </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-5">Intl</span><span class="hl-1">.</span><span class="hl-0">DateTimeFormat</span><span class="hl-1">(</span><span class="hl-5">locales</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">).</span><span class="hl-0">format</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-5">date</span><span class="hl-1">))</span><br/><span class="hl-1">        }</span><br/><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">lambda</span><span class="hl-1">(</span><span class="hl-5">format</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-0">lambda</span><span class="hl-1">(</span><span class="hl-5">formatter</span><span class="hl-1">)</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;1970-01-01T00:00 =&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">builder</span><span class="hl-1">(</span><span class="hl-2">&#39;en-UK&#39;</span><span class="hl-1">).</span><span class="hl-0">invoke</span><span class="hl-1">({ </span><span class="hl-5">dateStyle:</span><span class="hl-1"> </span><span class="hl-2">&#39;long&#39;</span><span class="hl-1"> }).</span><span class="hl-0">invoke</span><span class="hl-1">(</span><span class="hl-2">&#39;1970-01-01&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">) </span><span class="hl-7">// 01 January 1970</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<hr>
<br/>
<h2 id="functionlambda-currying" class="tsd-anchor-link"><strong>Function/Lambda Currying</strong><a href="#functionlambda-currying" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This does type-wisely curries a function or lambda, in two flavors: allowing or not partial param applying (default is not allowed). The process of currying a function is traditionally a techique that allows you to call the refered function passing one parameter at a time, returning another function to further apply remaining parameters, then returning whatever the original function returns after all parameters were given to curried function. In Javascript this techinque usually allows partial apply, and in that way you can pass more than one parameter at a time, and everything else remains equal to the traditional currying.</p>
<blockquote>
<p>Ex.:</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Experimental</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-6">lambda</span><span class="hl-1">, </span><span class="hl-6">curry</span><span class="hl-1"> } = </span><span class="hl-5">Experimental</span><br/><br/><span class="hl-7">// lets reuse earlier example:</span><br/><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">builder</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-5">locales</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1"> | </span><span class="hl-10">string</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-5">options</span><span class="hl-1">: </span><span class="hl-10">Intl</span><span class="hl-1">.</span><span class="hl-10">DateTimeFormatOptions</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-5">date</span><span class="hl-1">: </span><span class="hl-10">Date</span><span class="hl-1"> | </span><span class="hl-10">string</span><br/><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-5">Intl</span><span class="hl-1">.</span><span class="hl-0">DateTimeFormat</span><span class="hl-1">(</span><span class="hl-5">locales</span><span class="hl-1">, </span><span class="hl-5">options</span><span class="hl-1">).</span><span class="hl-0">format</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-5">date</span><span class="hl-1">))</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">curried</span><span class="hl-1"> = </span><span class="hl-0">curry</span><span class="hl-1">(</span><span class="hl-5">builder</span><span class="hl-1">)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">curriedLambda</span><span class="hl-1"> = </span><span class="hl-0">curry</span><span class="hl-1">(</span><span class="hl-0">lambda</span><span class="hl-1">(</span><span class="hl-5">builder</span><span class="hl-1">))</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">curried</span><span class="hl-1">(</span><span class="hl-2">&#39;en-GB&#39;</span><span class="hl-1">)({ </span><span class="hl-5">timeStyle:</span><span class="hl-1"> </span><span class="hl-2">&#39;short&#39;</span><span class="hl-1">, </span><span class="hl-5">timeZone:</span><span class="hl-1"> </span><span class="hl-2">&#39;Etc/Greenwich&#39;</span><span class="hl-1"> })(</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&#39;2020-05-10T22:35:08Z&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">) </span><span class="hl-7">// 22:35</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">curriedLambda</span><span class="hl-1">(</span><span class="hl-2">&#39;en-US&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        .</span><span class="hl-0">invoke</span><span class="hl-1">({ </span><span class="hl-5">dateStyle:</span><span class="hl-1"> </span><span class="hl-2">&#39;short&#39;</span><span class="hl-1">, </span><span class="hl-5">timeStyle:</span><span class="hl-1"> </span><span class="hl-2">&#39;short&#39;</span><span class="hl-1">, </span><span class="hl-5">timeZone:</span><span class="hl-1"> </span><span class="hl-2">&#39;America/New_York&#39;</span><span class="hl-1"> })</span><br/><span class="hl-1">        .</span><span class="hl-0">invoke</span><span class="hl-1">(</span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">(</span><span class="hl-2">&#39;2020-05-10T22:35:08Z&#39;</span><span class="hl-1">))</span><br/><span class="hl-1">) </span><span class="hl-7">// (EDT) 5/10/20, 6:35 PM</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<hr>
<br/>
<h2 id="pipelinespipes" class="tsd-anchor-link"><strong>Pipelines/Pipes</strong><a href="#pipelinespipes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This is a fluent API to create sync/async function pipelines. Inspired in FP pipe operator while it does not comes to Javascript/Typescript yet. It allows only single param functions, piping the return as the parameter to the next function in pipeline.</p>
<blockquote>
<p>Ex.:</p>
<pre><code class="ts"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-5">Experimental</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@srhenry/type-utils&#39;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-6">pipe</span><span class="hl-1">, </span><span class="hl-6">enpipe</span><span class="hl-1">, </span><span class="hl-6">lambda</span><span class="hl-1"> } = </span><span class="hl-5">Experimental</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">addUserFactory</span><span class="hl-1"> =</span><br/><span class="hl-1">    (</span><span class="hl-5">db</span><span class="hl-1">: </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">any</span><span class="hl-1">&gt;[]&gt;) </span><span class="hl-3">=&gt;</span><span class="hl-1"> (</span><span class="hl-5">user</span><span class="hl-1">: </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">any</span><span class="hl-1">&gt;) </span><span class="hl-3">=&gt;</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">&gt;(</span><span class="hl-5">resolve</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">setTimeout</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">id</span><span class="hl-1"> = </span><span class="hl-0">uuid</span><span class="hl-1">()</span><br/><br/><span class="hl-1">                </span><span class="hl-5">db</span><span class="hl-1">[</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">] ??= []</span><br/><span class="hl-1">                </span><span class="hl-5">db</span><span class="hl-1">[</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">]?.</span><span class="hl-0">push</span><span class="hl-1">({ </span><span class="hl-5">id</span><span class="hl-1">, ...</span><span class="hl-5">user</span><span class="hl-1"> })</span><br/><span class="hl-1">                </span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-5">id</span><span class="hl-1">)</span><br/><span class="hl-1">            }, </span><span class="hl-11">200</span><span class="hl-1">)</span><br/><span class="hl-1">        })</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">addPostFactory</span><span class="hl-1"> =</span><br/><span class="hl-1">    (</span><span class="hl-5">db</span><span class="hl-1">: </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">any</span><span class="hl-1">&gt;[]&gt;) </span><span class="hl-3">=&gt;</span><span class="hl-1"> (</span><span class="hl-5">user_id</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-5">post</span><span class="hl-1">: </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">any</span><span class="hl-1">&gt;) </span><span class="hl-3">=&gt;</span><br/><span class="hl-1">        </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-10">Promise</span><span class="hl-1">&lt;</span><span class="hl-10">boolean</span><span class="hl-1">&gt;(</span><span class="hl-5">resolve</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-0">setTimeout</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-5">db</span><span class="hl-1">[</span><span class="hl-2">&#39;posts&#39;</span><span class="hl-1">] ??= []</span><br/><span class="hl-1">                </span><span class="hl-5">db</span><span class="hl-1">[</span><span class="hl-2">&#39;posts&#39;</span><span class="hl-1">]?.</span><span class="hl-0">push</span><span class="hl-1">({ </span><span class="hl-5">user_id</span><span class="hl-1">, ...</span><span class="hl-5">post</span><span class="hl-1"> })</span><br/><span class="hl-1">                </span><span class="hl-0">resolve</span><span class="hl-1">(</span><span class="hl-3">true</span><span class="hl-1">)</span><br/><span class="hl-1">            }, </span><span class="hl-11">300</span><span class="hl-1">)</span><br/><span class="hl-1">        })</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">db</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-5">users:</span><span class="hl-1"> [] </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">any</span><span class="hl-1">&gt;[],</span><br/><span class="hl-1">    </span><span class="hl-5">posts:</span><span class="hl-1"> [] </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">any</span><span class="hl-1">&gt;[],</span><br/><span class="hl-1">} </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">any</span><span class="hl-1">&gt;[]&gt;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-0">len</span><span class="hl-1"> = &lt;</span><span class="hl-10">T</span><span class="hl-1"> = </span><span class="hl-10">any</span><span class="hl-1">&gt;(</span><span class="hl-5">s</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1"> | </span><span class="hl-10">ArrayLike</span><span class="hl-1">&lt;</span><span class="hl-10">T</span><span class="hl-1">&gt;) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-5">s</span><span class="hl-1">.</span><span class="hl-5">length</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-0">addPostCurried</span><span class="hl-1"> = (</span><span class="hl-5">post</span><span class="hl-1">: </span><span class="hl-10">Record</span><span class="hl-1">&lt;</span><span class="hl-10">string</span><span class="hl-1">, </span><span class="hl-10">any</span><span class="hl-1">&gt;) </span><span class="hl-3">=&gt;</span><span class="hl-1"> (</span><span class="hl-5">id</span><span class="hl-1">: </span><span class="hl-10">string</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><br/><span class="hl-1">    </span><span class="hl-0">pipe</span><span class="hl-1">(</span><span class="hl-5">addPostFactory</span><span class="hl-1">).</span><span class="hl-0">pipe</span><span class="hl-1">(</span><span class="hl-0">enpipe</span><span class="hl-1">(</span><span class="hl-5">db</span><span class="hl-1">)).</span><span class="hl-0">pipe</span><span class="hl-1">(</span><span class="hl-5">lambda</span><span class="hl-1">).</span><span class="hl-0">invoke</span><span class="hl-1">(</span><span class="hl-5">id</span><span class="hl-1">, </span><span class="hl-5">post</span><span class="hl-1">)</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-4">await</span><span class="hl-1"> </span><span class="hl-0">pipe</span><span class="hl-1">(</span><span class="hl-5">addUserFactory</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">pipe</span><span class="hl-1">(</span><span class="hl-0">enpipe</span><span class="hl-1">(</span><span class="hl-5">db</span><span class="hl-1">))</span><br/><span class="hl-1">    .</span><span class="hl-0">pipe</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">enpipe</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-5">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Marcus&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-5">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;example@email.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-0">pipeAsync</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">addPostCurried</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-5">title:</span><span class="hl-1"> </span><span class="hl-2">&#39;Hello World&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-5">content:</span><span class="hl-1"> </span><span class="hl-2">&#39;Lorem ipsum dolor sit amet&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-0">pipeAsync</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-0">len</span><span class="hl-1">(</span><span class="hl-5">db</span><span class="hl-1">[</span><span class="hl-2">&#39;users&#39;</span><span class="hl-1">]!) === </span><span class="hl-11">0</span><span class="hl-1"> || </span><span class="hl-0">len</span><span class="hl-1">(</span><span class="hl-5">db</span><span class="hl-1">[</span><span class="hl-2">&#39;posts&#39;</span><span class="hl-1">]!) === </span><span class="hl-11">0</span><span class="hl-1">) </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-3">false</span><br/><br/><span class="hl-1">        </span><span class="hl-5">db</span><span class="hl-1">[</span><span class="hl-2">&#39;replies&#39;</span><span class="hl-1">] = []</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> </span><span class="hl-3">true</span><br/><span class="hl-1">    })</span><br/><span class="hl-1">    .</span><span class="hl-0">depipe</span><span class="hl-1">() </span><span class="hl-7">// true | false</span>
</code><button type="button">Copy</button></pre>

</blockquote>
<hr>
<br/>
<h2 id="switch-expression" class="tsd-anchor-link"><strong>Switch Expression</strong><a href="#switch-expression" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This helper enables you to build switch expressions as it is not available in Javascript vanilla. Each branch allows you to define the matchers or values ahead of time with literal values or inline expressions, or define with callbacks to customize handling of each branch, making it a powerfull way to describe a complex switch without <em>if-else-if</em> language syntax. It defines a lambda as the switch runner, so you can define and run it in the row with more readability.</p>
<blockquote>
<p>Ex. (reusable switcher):</p>
<pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">switcher</span><span class="hl-1"> = </span><span class="hl-0">$switch</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-0">case</span><span class="hl-1">(</span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-2">&#39;four&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">case</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-2">&#39;three&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">case</span><span class="hl-1">(</span><span class="hl-11">2</span><span class="hl-1">, </span><span class="hl-2">&#39;two&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">case</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">, </span><span class="hl-2">&#39;one&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">default</span><span class="hl-1">(</span><span class="hl-2">&#39;none of the above&#39;</span><span class="hl-1">) </span><span class="hl-7">// it does not run yet</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">switcher</span><span class="hl-1">.</span><span class="hl-0">invoke</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">)) </span><span class="hl-7">// one</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">switcher</span><span class="hl-1">.</span><span class="hl-0">invoke</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">)) </span><span class="hl-7">// three</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">switcher</span><span class="hl-1">.</span><span class="hl-0">invoke</span><span class="hl-1">(</span><span class="hl-11">10</span><span class="hl-1">)) </span><span class="hl-7">// none of the above</span>
</code><button type="button">Copy</button></pre>

<p>Ex. (stored switcher):</p>
<pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">switcher</span><span class="hl-1"> = </span><span class="hl-0">$switch</span><span class="hl-1">(</span><span class="hl-11">5</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">case</span><span class="hl-1">(</span><span class="hl-11">4</span><span class="hl-1">, </span><span class="hl-2">&#39;four&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">case</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">, </span><span class="hl-2">&#39;three&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">case</span><span class="hl-1">(</span><span class="hl-11">2</span><span class="hl-1">, </span><span class="hl-2">&#39;two&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">case</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">, </span><span class="hl-2">&#39;one&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">default</span><span class="hl-1">(</span><span class="hl-2">&#39;none of the above&#39;</span><span class="hl-1">) </span><span class="hl-7">// it does not run yet</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">switcher</span><span class="hl-1">()) </span><span class="hl-7">// none of the above</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">switcher</span><span class="hl-1">.</span><span class="hl-0">invoke</span><span class="hl-1">()) </span><span class="hl-7">// none of the above</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-5">switcher</span><span class="hl-1">.</span><span class="hl-0">invoke</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">)) </span><span class="hl-7">// none of the above</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">switcher</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">)) </span><span class="hl-7">// none of the above</span>
</code><button type="button">Copy</button></pre>

<p>Ex. (more complex matching logic / runtime branch evaluation):</p>
<pre><code class="ts"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">switcher</span><span class="hl-1"> = </span><span class="hl-0">$switch</span><span class="hl-1">&lt;</span><span class="hl-10">number</span><span class="hl-1">&gt;()</span><br/><span class="hl-1">    .</span><span class="hl-0">case</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-5">n</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-5">n</span><span class="hl-1"> % </span><span class="hl-11">2</span><span class="hl-1"> === </span><span class="hl-11">0</span><span class="hl-1">,</span><br/><span class="hl-1">        () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-5">Math</span><span class="hl-1">.</span><span class="hl-0">floor</span><span class="hl-1">(</span><span class="hl-5">Math</span><span class="hl-1">.</span><span class="hl-0">random</span><span class="hl-1">() * </span><span class="hl-11">10_000</span><span class="hl-1">) + </span><span class="hl-11">1</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-0">default</span><span class="hl-1">(</span><span class="hl-5">n</span><span class="hl-1"> </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-5">n</span><span class="hl-1"> ** </span><span class="hl-5">n</span><span class="hl-1">)</span><br/><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">switcher</span><span class="hl-1">(</span><span class="hl-11">1</span><span class="hl-1">)) </span><span class="hl-7">// 1 (1^1)</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">switcher</span><span class="hl-1">(</span><span class="hl-11">2</span><span class="hl-1">)) </span><span class="hl-7">// random number between 1-10000</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">switcher</span><span class="hl-1">(</span><span class="hl-11">3</span><span class="hl-1">)) </span><span class="hl-7">// 27 (3^3)</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">switcher</span><span class="hl-1">(</span><span class="hl-11">4</span><span class="hl-1">)) </span><span class="hl-7">// random number between 1-10000</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">switcher</span><span class="hl-1">(</span><span class="hl-11">5</span><span class="hl-1">)) </span><span class="hl-7">// 3125 (5^5)</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">switcher</span><span class="hl-1">(</span><span class="hl-11">6</span><span class="hl-1">)) </span><span class="hl-7">// random number between 1-10000</span><br/><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-0">switcher</span><span class="hl-1">(</span><span class="hl-11">7</span><span class="hl-1">)) </span><span class="hl-7">// 823543 (7^7)</span>
</code><button type="button">Copy</button></pre>

</blockquote>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#type-utils"><span>Type <wbr/>Utils</span></a><ul><li><a href="#table-of-contents"><span>Table of <wbr/>Contents</span></a></li></ul><a href="#-installing-"><span>&lt;span id=&quot;installing&quot;&gt; <wbr/>Installing &lt;/span&gt;</span></a><a href="#-docs-"><span>&lt;span id=&quot;docs&quot;&gt; <wbr/>Docs &lt;/span&gt;</span></a><ul><li><ul><li><a href="#schema-types"><span>Schema types</span></a></li><li><a href="#schema-helpers"><span>Schema helpers</span></a></li><li><a href="#validation-rules"><span>Validation rules</span></a></li><li><a href="#available-validations"><span>Available validations</span></a></li></ul></li></ul><a href="#-experimental-features-"><span>&lt;span id=&quot;experimental&quot;&gt; <wbr/>Experimental <wbr/>Features &lt;/span&gt;</span></a><ul><li><a href="#deep-validation"><span>Deep validation</span></a></li><li><a href="#lambda"><span>Lambda</span></a></li><li><a href="#functionlambda-currying"><span>Function/<wbr/>Lambda <wbr/>Currying</span></a></li><li><a href="#pipelinespipes"><span>Pipelines/<wbr/>Pipes</span></a></li><li><a href="#switch-expression"><span>Switch <wbr/>Expression</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">Type Utils</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
